!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("tslib"),require("@angular/common"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-logger",["exports","@angular/core","@angular/common/http","tslib","@angular/common","rxjs"],t):t(e["ngx-logger"]={},e.ng.core,e.ng.common.http,e.tslib,e.ng.common,e.rxjs)}(this,function(e,t,a,g,o,i){"use strict";var r=function(){function e(e){this.http=e}return e.prototype.logOnServer=function(e,t,r,o){var n={message:t,additional:r,level:o.level,timestamp:o.timestamp,fileName:o.fileName,lineNumber:o.lineNumber},i={headers:(new a.HttpHeaders).set("Content-Type","application/json")};return this.http.post(e,n,i)},e}();r.decorators=[{type:t.Injectable}],r.ctorParameters=function(){return[{type:a.HttpClient}]};var d={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,OFF:6};d[d.TRACE]="TRACE",d[d.DEBUG]="DEBUG",d[d.INFO]="INFO",d[d.LOG]="LOG",d[d.WARN]="WARN",d[d.ERROR]="ERROR",d[d.OFF]="OFF";var n=function(){},c=function(){function e(e){this.config=e,this._config=e}return e.prototype.updateConfig=function(e){this._config=e},e.prototype.getConfig=function(){return this._config},e}(),v=function(){function e(){}return e.prepareMetaString=function(e,t,r,o){return e+" "+t+(r?" ["+r+":"+o+"]":"")},e.getColor=function(e){switch(e){case d.TRACE:return"blue";case d.DEBUG:return"teal";case d.INFO:case d.LOG:return"gray";case d.WARN:case d.ERROR:return"red";case d.OFF:default:return}},e.getCallerDetails=function(){var e=new Error("");try{var t=e.stack.split("\n")[4].split("/"),r=t[t.length-1].replace(/[)]/g,"").split(":");return{fileName:r[0],lineNumber:r[1]}}catch(o){return{fileName:null,lineNumber:null}}},e.prepareMessage=function(e){try{"string"==typeof e||e instanceof Error||(e=JSON.stringify(e,null,2))}catch(t){e='The provided "message" value could not be parsed with JSON.stringify().'}return e},e.prepareAdditionalParameters=function(e){return null===e||e===undefined?null:e.map(function(e,t){try{return"object"==typeof e&&JSON.stringify(e),e}catch(r){return"The additional["+t+"] value could not be parsed using JSON.stringify()."}})},e}(),h=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","OFF"],u=function(){function e(e,t,r){this.httpService=e,this.platformId=r,this._isIE=o.isPlatformBrowser(r)&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.configService=new c(t)}return e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.TRACE,e,t)},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.DEBUG,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.INFO,e,t)},e.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.LOG,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.WARN,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log(d.ERROR,e,t)},e.prototype.updateConfig=function(e){this.configService.updateConfig(e)},e.prototype._logIE=function(e,t,r,o){switch(o=o||[],e){case d.WARN:console.warn.apply(console,g.__spread([t+" ",r],o));break;case d.ERROR:console.error.apply(console,g.__spread([t+" ",r],o));break;case d.INFO:console.info.apply(console,g.__spread([t+" ",r],o));break;default:console.log.apply(console,g.__spread([t+" ",r],o))}},e.prototype._log=function(e,t,r,o){var n=this;if(void 0===r&&(r=[]),void 0===o&&(o=!0),t){var i=h[e];t=v.prepareMessage(t);var a=v.prepareAdditionalParameters(r),c=(new Date).toISOString(),u=this.configService.getConfig(),l=v.getCallerDetails();if(o&&u.serverLoggingUrl&&e>=u.serverLogLevel){var p={level:e,timestamp:c,fileName:l.fileName,lineNumber:l.lineNumber};t=t instanceof Error?t.stack:t,this.httpService.logOnServer(u.serverLoggingUrl,t,a,p).subscribe(function(e){},function(e){n._log(d.ERROR,"FAILED TO LOG ON SERVER: "+t,[e],!1)})}if(!(e<u.level)){var s=v.prepareMetaString(c,i,l.fileName,l.lineNumber);if(this._isIE)return this._logIE(e,s,t,r);var f=v.getColor(e);console.log.apply(console,g.__spread(["%c"+s,"color:"+f,t],r||[]))}}},e}();u.decorators=[{type:t.Injectable}],u.ctorParameters=function(){return[{type:r},{type:n},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var l=function(){function e(e,t){this.httpService=e,this.platformId=t}return e.prototype.create=function(e,t){return new u(t||this.httpService,e,this.platformId)},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[{type:r},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var p=function(){},s=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:n,useValue:e||{}},u,r,l]}},t.forChild=function(){return{ngModule:t,providers:[u,r,l]}},t}();s.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule,a.HttpClientModule],providers:[u,r,l]}]}];var f=function(){function e(){}return e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},e.prototype.updateConfig=function(e){},e}(),y=function(){function e(){}return e.prototype.create=function(){return new f},e}(),m=function(){function e(){}return e.prototype.logOnServer=function(e,t,r,o,n){return i.of({})},e}();e.LoggerModule=s,e.Levels=h,e.NGXLogger=u,e.LoggerConfig=n,e.CustomNGXLoggerService=l,e.NGXLoggerHttpService=r,e.NGXLoggerUtils=v,e.NgxLoggerLevel=d,e.HttpMetaDataInterface=p,e.NGXLoggerMock=f,e.CustomNGXLoggerServiceMock=y,e.NGXLoggerHttpServiceMock=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-logger.umd.min.js.map
